# 2022年1月1日

新年

# 2022年1月2日

- Portainerのサーバー証明書がPortainerのデーターボリュームに保存されているものと
- ホストでバインドしているサーバー証明書との間でバッティングしていたので
- 確実にホストからバインドしたサーバー証明書が使用されるように変更した。

## 

- ホスト側の証明書は更新されているのに、Portainerでは古い証明書が使われていて
- かつ、Portainerはコンソールが無いこともあり、探し当てるまでかなり時間を取った。
- 証明書が切り替わらない場合は、Portainerコンテナの`/data`以下に`key.pem`と`cert.pem`が生成されていないかチェック
- 古い証明書であれば削除しましょう。
- 昔から使っていると`/data/cert`あたりにあるかもしれない。

# 2022年1月4日

- https://bbs.jpnkn.com/test/read.cgi/develop/1568136883/194 より
- Twitterのユーザー名(@から始まるもの,スクリーンネームとも言う)を管理画面ログイン時に自動更新するようにした。
- TwitterのユーザーIDはアカウント作成時に自動的に振られるため、自由に変更できない。
- 以下、Twitterアカウントでの例

|名称|値|変更|
|---|---|---|
|ユーザー名|@Twitter|可|
|ユーザーID|783214|不可|
|名前|Twitter|可|

# 2022年1月9日

- VPN Gateノードリストへの追加を一度に複数処理できるようにした。

# 2022年1月11日

- 定時実行のVPN Gateノードリスト取得をLambdaへ移植した。
- ついでに大阪リージョンでも動くようにした。
- ↑に関しては同一IPアドレスからノードリストを取得すると偏りがある？という情報をちらっと見かけたため。
- VPN Gateを利用したbotがかなりの頻度で動いてるので、ちょっとエラー画面に細工をした。

# 2022年1月13日

- ↑の条件を更に絞り込んで処理時間を短縮してみた。
