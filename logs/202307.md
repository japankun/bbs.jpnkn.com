# 2023年7月1日

- スレッドの作成時に衝突が発生した場合、片方を明確にエラーにするようにした。

# 2023年7月5日

- Legacyスキン使用時、ブラウザからのスレッド表示をエッジサーバーからの読み込みに変更。

# 2023年7月7日

- subject.txtの更新処理でコケることをなくしたつもり・・・
- スレッドの勢いによってコケてたらまた考える。

# 2023年7月9日

- Node-REDで処理していたdatのリアルタイムバックアップをAmazon SQS + Lambdaの構成に変更。

# 2023年7月12日

- 管理用インスタンス(3.5USD)を削除して、新たに負荷分散用のインスタンス(10USD)を追加。
- スペック
  - 10USD
  - MEM: 2GB
  - CPU: 2vCPU Intel(R) Xeon(R) Platinum 8259CL CPU @ 2.50GHz
  - SSD: 60GB 
  - Bandwidth: 3TB/Month
 
あと気になる情報

- https://letsencrypt.org/2023/07/10/cross-sign-expiration.html
- Android 7.0以前の端末でLet's Encrypt証明書のクロス署名がなくなる予定。

# 2023年7月13日

- Defaultスキン使用時、モダンブラウザからのスレッド表示をエッジサーバーからの読み込みに変更。
- これでスキンとデータの切り離しが完了した。

# 2023年7月15日

- ﾜｯﾁｮｲ有効時の処理を高速化した。

# 2023年7月25日

- Lightsailがt2インスタンスタイプからt3に変更されていることを発見。
- APIサーバーをt3インスタンスタイプに更新した。
- 相変わらずAWSのサービス画面とドキュメントが一致していないのであれなのだけれど
- Last updated: July 13 2023のドキュメントで以下のような感じになっていた。
- 数値上特に上と下のプランでかなりのアップグレードに見えるけど本当に？
- https://lightsail.aws.amazon.com/ls/docs/en_us/articles/amazon-lightsail-viewing-instance-burst-capacity

|Plan|CPU|Base|1vCPU|RAM|SSD|
|---:|---|---:|---:|---:|---:|
|3.5(t2)|1vCPU|5%|5%|0.5GB|30GB|
|3.5(t3)|2vCPUs|5%|10%|0.5GB|30GB|
|5(t2)|1vCPU|10%|10%|1GB|40GB|
|5(t3)|2vCPUs|10%|20%|1GB|40GB|
|10(t2)|1vCPU|20%|20%|2GB|60GB|
|10(t3)|2vCPUs|20%|40%|2GB|60GB|
|20(t2)|2vCPUs|20%|40%|4GB|80GB|
|20(t3)|2vCPUs|20%|40%|4GB|80GB|
|40(t2)|2vCPUs|30%|60%|8GB|160GB|
|40(t3)|2vCPUs|30%|60%|8GB|160GB|
|80(t2)|4vCPUs|22.5%|90%|16GB|320GB|
|80(t3)|4vCPUs|40%|160%|16GB|320GB|
|160(t2)|8vCPUs|17%|136%|32GB|640GB|
|160(t3)|8vCPUs|40%|320%|32GB|640GB|

- 試しに80USDのインスタンスを立ててみた。
- ドキュメントの表記通りで行くとベースラインが40%になるはずなんだけど・・・
- グラフの表記が反映されていないのか、思ってるのとは違うのかも・・・(念のため表示言語を英語にした)

<img src="https://t1.jpnkn.com/wp-content/uploads/2023/07/25013536/2023-07-25-01_26_11-Lightsail.png" width="400">


