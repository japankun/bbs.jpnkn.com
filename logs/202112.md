# 2021年12月3日

- CloudFrontのオールエッジ設定で応答時間を試してみたところ、特に何もしていないCloudflareとほぼ同じだった。
- 掲示板は9割以上が国内からのアクセスということもあるし、**グローバルエッジネットワーク**を使うほどではないしなー。

# 2021年12月12日

- プロキシ関連の規制フィルターでfireholのipsetを定期的に取りに行っている。
- fireholはCloudflareに配置されているので、AWSの外部まで取りに行くことになっているが
- 経路の状況によってインポートする処理時間が長くなる可能性大なので、AWS内部にリストを配置しておいて、インポートはAWSで完結するようにしたい。
- Lambdaで定期取得したリストをS3に入れるところまでは作った。
- ↑のリストを参照するように切り替えた。

# 2021年12月19日

- `HTTP/1.1 303 See Other`が使えるブラウザにはCDN等に配置したファイルを参照してもらう、という案
- デメリット
  - 使えるブラウザがかなり限られる。
  - リクエストは継続してメインサーバーにくる。(～250byte程度のヘッダを返す)
  - リクエストが2回になるのでレスポンスが悪くなる。
- メリット
  - 使えるとメインサーバーでbodyを返す必要がなくなる。(転送するデータが減り負荷軽減するかも？)
  - LoadAverageが高くなったら使うなど、使い分けが簡単にできる。
  - 東京から遠い地域や国外のレスポンスは良くなる可能性がある。

# 2021年12月21日

- PCRPlayer(PCRBrowser)は`HTTP/1.1 303 See Other`が使えることを確認。
